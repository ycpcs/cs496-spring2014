---
layout: default
title: "Assignment 4: Web Application"
---

Due: Tues, Mar 25th by 11:59 PM

# Getting started

Download [CS496\_Assign04.zip](CS496_Assign04.zip) and import it into Eclipse.

Your should see a project called **CS406\_Assign04** in your Eclipse workspace.  Note that this project assumes that you have the **CS496\_Jetty** project in your workspace (from [Assignment 1](assign01.html)).

<div class="callout">
<p>The version of the zipfile posted prior to March 18th had an incorrect <b>.classpath</b> file, meaning that the none of the server-side code (such as the <b>InventoryApp</b> servlet, the controllers, and persistence layer) was actually executed.</p>
<p><b>To fix</b>: right click the <b>CS496_Assign04</b> project, choose <b>Refactor &rarr; Rename</b>, and rename it as <b>CS496_Assign04_Copy</b>.  Download and import the corrected zipfile.  Copy all of the code in the packages in the <b>src</b> folder from the old project to the new one.</p>
<p>Make sure that when you submit, you submit the new project.</p>
</div>

# Your task

Complete the web application so that it works like this one:

> [https://cs.ycp.edu/cs496/inventory](https://cs.ycp.edu/cs496/inventory)

The web application corresponds very closely to the web service you implemented in [Assignment 1](assign01.html).  You should be able to reuse your controllers and persistence implementation from that assignment.  (You will need to fix bugs in the persistence layer if there are any.)

The idea is that a URL which ends in **/inventory** displays the entire inventory, and a URL ending in **/inventory/ItemName** should display a single named item.

Item URLs can have an **action** parameter that will allow the user to view, edit, or delete an item.  For example, a URL ending in **/inventory/Apples?action=edit** should allow the user to edit the **Apples** item.

# Hints

Your webapp should use the MVC2 architecture as described in the notes for [Lecture 10](../lectures/lecture10.html).  **InventoryApp.java** is the servlet that will handle GET and POST requests sent by the client web browser.  **\_view/inventory.jsp** and **\_view/item.jsp** are the views that will render HTML pages for the overall inventory and individual items, respectively.

A GET request should render a user interface appropriate for what the user wants to do.

* A GET request for the entire inventory just renders the entire inventory as a table.  This is already implemented in the starter code.
* A GET request for a specific item  should just use the **action** parameter to determine what kind of UI to display.  The **edit** action should show a UI appropriate for editing an item, the **add** action should show a UI appropriate for adding an item, and the **delete** action should show a UI appropriate for deleting an item.  The **view** action, or no specified action, should simply display the item.

Use HTML forms to allow the user to enter and submit updated information.  Each form should do a POST that sends the completed form information to the same URL as the page containing the form.  A form submission should (typically) display the same UI, along with a message describing the success or failure of the operation.  One exception is deleting an item: the result page should just contain a message about whether or not the item was deleted successfully.  This should give you a sense of how to use HTML forms.

The **\_view/item.jsp** view should use the **&lt;c:if&gt;** tag to check the **action** and render an appropriate UI (for viewing, editing, adding, or deleting an item).

You may find the [JSTL Tutorial](http://www.tutorialspoint.com/jsp/jsp_standard_tag_library.htm) and [JSP Expression Language Tutorial](http://www.tutorialspoint.com/jsp/jsp_expression_language.htm) useful for working with JSTL tags (such as **&lt;c:if&gt;**) and JSP expressions (such as **${Item.name}**).

Use "View Source" in your web browser to see the HTML generated by the example inventory web application.  This may be helpful as you work with HTML forms.

# Grading

Your grade will be determined as follows (out of 100 points):

* Displaying the entire inventory: 5
* Displaying a single item: 5
* Editing an existing item: 30
* Adding a new item: 30
* Deleting an item: 30
* Application is robust against cross-site scripting (XSS): 10 (\*)

(\*) You should research cross-site scripting and how to avoid XSS vulnerabilities in JSPs.

# Submitting

Select the **CS496\_Assign04** project, then click the blue up arrow icon, and enter your Marmoset username and password when prompted.

Alternatively, export the **CS496\_Assign04** project to a zipfile, and upload the zipfile to Marmoset as **assign04**:

> [https://cs.ycp.edu/marmoset](https://cs.ycp.edu/marmoset)

<div class="callout">
<b>Important</b>: please do <b>not</b> submit the <b>CS496_Jetty</b> project as part of your submission.  Only submit <b>CS496_Assign04</b>.
</div>

<!-- vim:set wrap: Â­-->
<!-- vim:set linebreak: -->
<!-- vim:set nolist: -->
